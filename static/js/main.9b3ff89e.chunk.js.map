{"version":3,"sources":["assets/live-search/iconmonstr-search-thin.svg","components/spinner/Spinner.js","components/live-search/LiveSearch.js","App.js","reportWebVitals.js","index.js"],"names":["_path","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgIconmonstrSearchThin","_ref","svgRef","title","titleId","props","width","height","xmlns","fillRule","clipRule","ref","id","d","ForwardRef","Spinner","LiveSearch","searchData","placeholder","useState","inputValue","setInputValue","results","setResults","cursor","setCursor","isLoading","setIsLoading","selectedElement","useRef","inputRef","useEffect","timer","setTimeout","then","newResults","catch","error","clearTimeout","current","scrollIntoView","behavior","block","inline","console","log","makeBold","text","match","re","RegExp","replace","str","className","value","onChange","event","onKeyDown","e","keyCode","prevCursor","list","map","result","index","dangerouslySetInnerHTML","__html","name","resultsJSX","App","useCallback","Promise","resolve","reject","fetch","response","json","data","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9b3ff89e.chunk.js","sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgIconmonstrSearchThin(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.853 16.56c-1.683 1.517-3.911 2.44-6.353 2.44-5.243 0-9.5-4.257-9.5-9.5s4.257-9.5 9.5-9.5 9.5 4.257 9.5 9.5c0 2.442-.923 4.67-2.44 6.353l7.44 7.44-.707.707-7.44-7.44zm-6.353-15.56c4.691 0 8.5 3.809 8.5 8.5s-3.809 8.5-8.5 8.5-8.5-3.809-8.5-8.5 3.809-8.5 8.5-8.5z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconmonstrSearchThin);\nexport default __webpack_public_path__ + \"static/media/iconmonstr-search-thin.65a7fd14.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport './Spinner.scss';\n\nconst Spinner = () => <div id=\"loading\"></div>\n\nexport default Spinner;","import React, { useEffect, useRef, useState } from 'react';\nimport './LiveSearch.scss';\nimport { ReactComponent as SvgSearch } from '../../assets/live-search/iconmonstr-search-thin.svg';\nimport Spinner from '../spinner/Spinner';\n\nconst LiveSearch = ({ searchData, title, placeholder }) => {\n  const [inputValue, setInputValue] = useState('');\n  const [results, setResults] = useState([]);\n  const [cursor, setCursor] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const selectedElement = useRef(null);\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      if (inputValue.length > 1) {\n        setIsLoading(true);\n        searchData(inputValue)\n          .then((newResults) => {\n            setIsLoading(false);\n            setCursor(0);\n            newResults ? setResults(newResults) : setResults([]);\n          })\n          .catch((error) => {\n            setIsLoading(false);\n            setCursor(0);\n            setResults([]);\n          });\n      } else {\n        setResults([]);\n      }\n    }, 500); //Wait for 500 ms before make an API call in order to avoid make a lot of requests.\n    return () => clearTimeout(timer);\n  }, [inputValue, searchData]);\n\n  useEffect(() => {\n    if (selectedElement && selectedElement.current) {\n      selectedElement.current.scrollIntoView({\n        behavior: 'smooth',\n        block: 'nearest',\n        inline: 'end',\n      });\n      console.log(inputRef);\n    }\n  }, [cursor]);\n\n  const makeBold = (text, match) => {\n    const re = new RegExp(match, 'gi');\n    const toRet = text.replace(re, (str) => `<b>${str}</b>`);\n\n    return toRet;\n  };\n\n  const resultsJSX = () => {\n    const list = results.map((result, index) => (\n      <li\n        ref={cursor === index ? selectedElement : null}\n        key={result.id}\n        className={`LiveSearch__resultItem ${\n          cursor === index ? 'LiveSearch__resultItem--selected' : ''\n        }`}\n        dangerouslySetInnerHTML={{\n          __html: `<span>${makeBold(result.name, inputValue)}</span>`,\n        }}\n      />\n    ));\n    return <ul className='LiveSearch__resultList'>{list}</ul>;\n  };\n\n  function handleKeyDown(e) {\n    if (e.keyCode === 38 && cursor > 0) {\n      setCursor((prevCursor) => prevCursor - 1);\n    } else if (e.keyCode === 40 && cursor < results.length - 1) {\n      setCursor((prevCursor) => prevCursor + 1);\n    }\n  }\n\n  return (\n    <div className='LiveSearch'>\n      <p className='LiveSearch__title'>{title}</p>\n      <div className='LiveSearch__searchWrapper'>\n        <input\n          className='LiveSearch__input'\n          placeholder={placeholder}\n          value={inputValue}\n          onChange={(event) => setInputValue(event.target.value)}\n          onKeyDown={handleKeyDown}\n          ref={inputRef}\n        />\n        {isLoading ? <Spinner /> : <SvgSearch />}\n      </div>\n      {results && results.length > 0 && resultsJSX()}\n    </div>\n  );\n};\n\nexport default LiveSearch;\n","import './App.css';\nimport LiveSearch from './components/live-search/LiveSearch';\nimport { useCallback } from 'react';\n\nfunction App() {\n  const URL = 'https://rickandmortyapi.com/api/character/';\n  const searchData = useCallback((name) => {\n    return new Promise((resolve, reject) => {\n      fetch(`${URL}?name=${name}`)\n        .then((response) => response.json())\n        .then((data) => resolve(data.results))\n        .catch((error) => reject(error));\n    });\n  }, []);\n\n  return (\n    <div className='App'>\n      <LiveSearch\n        title='Encuentra un personaje'\n        placeholder='Escribe el nombre...'\n        searchData={searchData}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}